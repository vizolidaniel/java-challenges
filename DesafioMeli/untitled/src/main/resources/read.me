# Product Management & Comparison System

Eu desenvolvi esta API REST utilizando **Spring Boot** para gerenciar um cat√°logo de produtos e realizar compara√ß√µes din√¢micas entre eles, incluindo suporte a categorias espec√≠ficas como Smartphones.

## Arquitetura e Decis√µes T√©cnicas

Eu utilizei o padr√£o de **Arquitetura em Camadas (Layered Architecture)** para organizar o projeto. Minhas principais decis√µes foram:

* **Separa√ß√£o de Responsabilidades:** Dividi o c√≥digo entre Controller (interface HTTP), Service (regras de neg√≥cio) e Repository (persist√™ncia), facilitando a manuten√ß√£o.
* **Estrat√©gia de Heran√ßa (JPA):** Implementei a estrat√©gia `SINGLE_TABLE` com `DiscriminatorValue`. Escolhi essa abordagem para permitir que produtos gen√©ricos e smartphones coexistam na mesma tabela, simplificando consultas complexas e otimizando a performance.
* **Records e Imutabilidade:** Usei Java Records para a camada de DTO (Data Transfer Object), garantindo que os dados de resposta sejam imut√°veis e seguros.
* **Filtragem Din√¢mica de Campos:** Implementei o uso de `MappingJacksonValue` e `JsonFilter`. Fiz isso para permitir que o usu√°rio da API escolha exatamente quais campos quer ver no endpoint de compara√ß√£o, evitando o envio de dados desnecess√°rios (Overfetching).
* **Tratamento de Dados Nulos:** Configurei a serializa√ß√£o para ignorar campos nulos, garantindo que a resposta JSON seja limpa e contenha apenas informa√ß√µes relevantes.

---

## üöÄ Como Usar

### Pr√©-requisitos
* Java 17 ou superior
* Maven 3.6+

### Instala√ß√£o e Execu√ß√£o
1. Clone o reposit√≥rio.
2. Na raiz do projeto, execute:
   ```bash
   mvn spring-boot:run
3. A API estar√° dispon√≠vel em: `URL_HACKERRANK`

---

## üõ†Ô∏è M√©todos Dispon√≠veis (Endpoints)

### Gerenciamento de Modelos (`/model`)
| M√©todo | Endpoint | Descri√ß√£o |
| :--- | :--- | :--- |
| **GET** | `/model` | Eu retorno a lista de todos os produtos cadastrados. |
| **POST** | `/model` | Eu crio um novo produto. Valido se o ID j√° existe e retorno `400` em caso de duplicidade. |
| **GET** | `/model/{id}` | Eu busco os detalhes de um produto espec√≠fico. |
| **DELETE** | `/model/{id}` | Eu removo um produto pelo seu ID. |

### Compara√ß√£o de Produtos (`/products/compare`)
| M√©todo | Endpoint | Par√¢metros | Descri√ß√£o |
| :--- | :--- | :--- | :--- |
| **GET** | `/products/compare` | `ids`, `fields` | Eu comparo produtos pelos IDs e filtro os campos dinamicamente conforme solicitado. |

**Exemplo de uso:**
`GET URL_HACKERRANK/products/compare?ids=1,2&fields=name,price`

### Manuten√ß√£o
* **DELETE** `/erase`: Eu realizo a limpeza completa do banco de dados.

---

## üìã Tecnologias que utilizei
* **Spring Boot 3**
* **Spring Data JPA**
* **H2 Database** (Banco de dados em mem√≥ria para testes r√°pidos)
* **Jackson** (Para manipula√ß√£o e filtragem de JSON)
* **Lombok** (Para reduzir a verbosidade do c√≥digo)